<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>dqz カード</title>
<!--
 * カードの作り方 *

  1. ブラウザから出力し(用紙サイズはA4)、ハサミで切る。
  2. MTGのカード(幅63mm, 高さ89mm)用スリーブに入れる。
     不要カードを補強のため一緒に入れるとなお良し。

 * このファイルのライセンス *

  Creative Commons 表示-非営利 2.1 日本
  http://creativecommons.org/licenses/by-nc/2.1/jp/
-->
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script type="text/javascript">
bosses = [
{'name':'シドー','img':'img/2fc_82.png','hp':'200','lv':'∞','skill':'はげしいほのお'},
{'name':'ハーゴン','img':'img/2fc_81.png','hp':'150','lv':'☆☆☆☆☆','initiative':'【先制】','skill':'イオナズン'},
{'name':'ベリアル','img':'img/2fc_80.png','hp':'100','lv':'☆☆☆☆','skill':'呪文耐性：高'},
{'name':'バズズ','img':'img/2fc_79.png','hp':'100','lv':'☆☆☆☆','initiative':'【先制】','skill':'ザラキ'},
{'name':'アトラス','img':'img/2fc_78.png','hp':'100','lv':'☆☆☆☆','initiative':'[攻撃終了後]','skill':'集中攻撃'},
];
monsters = [
{'name':'あくましんかん','img':'img/2fc_77.png','hp':'50','lv':'☆☆☆','initiative':'【先制】','skill':'イオナズン'},
{'name':'アークデーモン','img':'img/2fc_76.png','hp':'60','lv':'☆☆☆','skill':'呪文耐性：高'},
{'name':'ブリザード','img':'img/2fc_73.png','hp':'40','lv':'☆☆☆','skill':'物理攻撃無効'},
{'name':'サイクロプス','img':'img/2fc_72.png','hp':'70','lv':'☆☆☆'},
{'name':'ドラゴン','img':'img/2fc_69.png','hp':'70','lv':'☆☆☆','skill':'かえんのいき'},
{'name':'キラーマシン','img':'img/2fc_68.png','hp':'60','lv':'☆☆☆','initiative':'[攻撃終了後]','skill':'つうこんのいちげき'},
{'name':'バーサーカー','img':'img/2fc_66.png','hp':'60','lv':'☆☆☆','initiative':'[攻撃時]','description':'攻撃値が4の倍数だったとき、+5ダメージを与える。'},
{'name':'スカルナイト','img':'img/2fc_59.png','hp':'50','lv':'☆☆☆'},
{'name':'あくまのめだま','img':'img/2fc_56.png','hp':'50','lv':'☆☆☆','initiative':'[攻撃終了後]','skill':'あまいいき'},
{'name':'はぐれメタル','img':'img/2fc_54.png','hp':'1','lv':'☆☆☆☆','initiative':'[攻撃終了後]','description':'攻撃値が1以外だったとき、このモンスターは逃げてしまう。'},
{'name':'ようじゅつし','img':'img/2fc_49.png','hp':'25','lv':'☆☆','initiative':'【先制】','skill':'ベギラマ'},
{'name':'バピラス','img':'img/2fc_46.png','hp':'60','lv':'☆☆☆'},
{'name':'くさったしたい','img':'img/2fc_45.png','hp':'50','lv':'☆☆☆','initiative':'[攻撃終了後]','skill':'どくこうげき'},
{'name':'マドハンド','img':'img/2fc_44.png','hp':'30','lv':'☆☆','initiative':'【先制】','skill':'なかまをよぶ'},
{'name':'マドハンド','img':'img/2fc_44.png','hp':'30','lv':'☆☆','initiative':'【先制】','skill':'なかまをよぶ'},
{'name':'じんめんじゅ','img':'img/2fc_43.png','hp':'40','lv':'☆☆','initiative':'[攻撃終了後]','skill':'ふしぎなおどり'},
{'name':'ドラゴンフライ','img':'img/2fc_40.png','hp':'40','lv':'☆☆','skill':'ひのいき'},
{'name':'オーク','img':'img/2fc_37.png','hp':'40','lv':'☆☆','initiative':'[攻撃時]','description':'攻撃値が3の倍数だったとき、+5ダメージを与える。'},
{'name':'サーベルウルフ','img':'img/2fc_36.png','hp':'40','lv':'☆☆','initiative':'【先制】','skill':'つうこんのいちげき'},
{'name':'グレムリン','img':'img/2fc_34.png','hp':'30','lv':'☆☆','initiative':'[攻撃終了後]','skill':'ホイミ'},
{'name':'ホークマン','img':'img/2fc_32.png','hp':'30','lv':'☆☆','initiative':'【先制】','skill':'マホトーン'},
{'name':'しびれくらげ','img':'img/2fc_30.png','hp':'30','lv':'☆☆','initiative':'[攻撃終了後]','skill':'まひこうげき'},
{'name':'どろにんぎょう','img':'img/2fc_28.png','hp':'25','lv':'☆☆','initiative':'【先制】','skill':'ふしぎなおどり'},
{'name':'メドーサボール','img':'img/2fc_25.png','hp':'25','lv':'☆☆','initiative':'【先制】','skill':'ラリホー'},
{'name':'ミイラおとこ','img':'img/2fc_24.png','hp':'25','lv':'☆☆','initiative':'[攻撃時]','description':'攻撃値が3の倍数だったとき、+5ダメージを与える。'},
{'name':'マンイーター','img':'img/2fc_23.png','hp':'25','lv':'☆☆'},
{'name':'メタルスライム','img':'img/2fc_20.png','hp':'20','lv':'☆☆','initiative':'[攻撃時]','description':'"えんざんカード"「×」は「－」として計算される。'},
{'name':'マンドリル','img':'img/2fc_19.png','hp':'20','lv':'☆'},
{'name':'スモーク','img':'img/2fc_18.png','hp':'15','lv':'☆','skill':'物理攻撃無効'},
{'name':'よろいムカデ','img':'img/2fc_14.png','hp':'20','lv':'☆','initiative':'[攻撃時]','description':'"えんざんカード"「×」は「＋」として計算される。'},
{'name':'おおねずみ','img':'img/2fc_12.png','hp':'20','lv':'☆'},
{'name':'ぐんたいアリ','img':'img/2fc_11.png','hp':'15','lv':'☆','initiative':'[攻撃終了後]','skill':'なかまをよぶ'},
{'name':'キングコブラ','img':'img/2fc_10.png','hp':'20','lv':'☆','initiative':'[攻撃終了後]','skill':'どくこうげき'},
{'name':'まじゅつし','img':'img/2fc_09.png','hp':'10','lv':'☆','initiative':'【先制】','skill':'ギラ'},
{'name':'バブルスライム','img':'img/2fc_08.png','hp':'10','lv':'☆','initiative':'【先制】','skill':'どくこうげき'},
{'name':'ホイミスライム','img':'img/2fc_07.png','hp':'15','lv':'☆','initiative':'[攻撃終了後]','skill':'ホイミ'},
{'name':'ゆうれい','img':'img/2fc_06.png','hp':'15','lv':'☆'},
{'name':'ドラキー','img':'img/2fc_04.png','hp':'15','lv':'☆','initiative':'[攻撃時]','description':'攻撃値が5の倍数だったとき、攻撃を回避する'},
{'name':'おおなめくじ','img':'img/2fc_02.png','hp':'10','lv':'☆'},
{'name':'スライム','img':'img/2fc_01.png','hp':'10','lv':'☆'},
];
commands = [
  {"name":"みんながんばれ", "img":"img/cmd_m.png", "description":'攻撃値計算時、使用された部分が真っ先に計算される。'},
  {"name":"ガンガンいこうぜ", "img":"img/cmd_g.png", "description":'攻撃値計算時、使用された"こうげきカード"の値を2倍してから計算する。'},
  {"name":"いのちだいじに", "img":"img/cmd_i.png", "description":'このバトル終了後、使用した"こうげきカード"はそれぞれのプレイヤーの手札に戻る。'},
  {"name":"じゅもんせつやく", "img":"img/cmd_j.png", "description":'この"さくせんカード"は "＋"の"えんざんカード"と同等に扱われる。'},
  {"name":"おれにまかせろ", "img":"img/cmd_o.png", "description":'攻撃値計算時、自分が出した"こうげきカード"の値を＋３してから計算する。'},
];
operations = [
  {"name":"えんざん", "img":"img/add.png"}, {"name":"えんざん", "img":"img/sub.png"}, {"name":"えんざん", "img":"img/mul.png"}, {"name":"えんざん", "img":"img/div.png"},
];
attacks = [
  {"num":10, "name":"こうげき", "lv":"1", "img":"img/one.png"}, {"num":10, "name":"こうげき", "lv":"2", "img":"img/two.png"}, {"num":10, "name":"こうげき", "lv":"3", "img":"img/three.png"}, {"num":10, "name":"こうげき", "lv":"4", "img":"img/four.png"}, {"num":10, "name":"こうげき", "lv":"5", "img":"img/five.png"},
];
promotions = [
  {"num":4, "name":"dqzルール", "img":"qr_rule.gif", "description":"※上記QRコードを読み取ると『ルール』が表示されます。"},
];
skills = {
  'はげしいほのお':'[攻撃終了後]攻撃値が5の倍数だったとき、全員任意の"こうげきカード"を1枚ずつ捨てる。',
  'かえんのいき':'[攻撃終了後]攻撃値が3の倍数だったとき、全員任意の"こうげきカード"を1枚ずつ捨てる。',
  'ひのいき':'[攻撃終了後]攻撃値が4の倍数だったとき、全員任意の"こうげきカード"を1枚ずつ捨てる。',
  'イオナズン':'ゲームマスターが2D6を振って出した目と同じ"こうげきカード"を全員1枚ずつ捨てる(持っていないプレイヤーは任意のこうげきカード2枚)。',
  'ベギラマ':'ゲームマスターが1D6を振って1を出したとき、全員任意の"こうげきカード"を1枚ずつ捨てる。',
  'ギラ':'ゲームマスターが1D6を振って1を出したとき、"ゆうしゃ"のプレイヤーは任意の"こうげきカード"を1枚捨てる。',
  'どくこうげき':'ゲームマスターが1D6を振って出した目と同じ"こうげきカード"は、次の攻撃時(カードの数値－1)で計算される。',
  'まひこうげき':'ゲームマスターが1D6を振って出した目の順番のプレイヤーが次の攻撃で出す"こうげきカード"は、カードの数値に関わらず0として計算される。',
  'ラリホー':'ゲームマスターが1D6を振って出した目の順番のプレイヤーが次の攻撃で出す"こうげきカード"は、カードの数値に関わらず1として計算される。',
  'あまいいき':'ゲームマスターが1D6を振って出した目の順番のプレイヤーが次の攻撃で出す"こうげきカード"は、カードの数値に関わらず1として計算される。',
  '物理攻撃無効':'[攻撃時]攻撃値×(-1)がダメージとなる。',
  '集中攻撃':'手札の数が一番少ないプレイヤーは任意の"こうげきカード"を1枚捨てる。枚数が同じプレイヤーがいるときは勇者に最も近いプレイヤーを対象とする。',
  'つうこんのいちげき':'ゲームマスターが1D6を振って出した目と同じ"こうげきカード"を出したプレイヤーは、もう1枚任意の"こうげきカード"を捨てる。',
  '呪文耐性：高':'[攻撃時]さくせんを使用したとき、ダメージが1/2(端数切り上げ)となる。',
  'ふしぎなおどり':'ゲームマスターが1D6を振って出した目の順番に置かれているさくせんは山札に戻す。',
  'マホトーン':'ゲームマスターが1D6を振って奇数を出したとき、"さくせんカード"を引くことも使うこともできない。',
  'ザラキ':'ゲームマスターが1D6を振って出した目と同じ"こうげきカード"は、次の攻撃で使えない。',
  'ベホイミ':'[攻撃終了後]ゲームマスターが2D6を振って出した目の数、HPが回復する。',
  'ホイミ':'[攻撃終了後]ゲームマスターが1D6を振って出した目の数、HPが回復する。',
  'なかまをよぶ':'次のモンスターと連続でバトルを行う(宿屋を利用できない)。',
};

Cards = function() {
  var self = this;
  var _cards = [];
  this.add = function(cards) {
    if (!$.isArray(cards)) {
      throw new Exception('cards must be array.');
    }
    for (var i=0; i<cards.length; i++) {
      _cards.push(cards[i]);
    }
  };
  this.each = function(func) {
    $(_cards).each(func);
  };
}

$(function() {
  var cards = new Cards();
  cards.add(bosses);
  cards.add(monsters);
  cards.add(commands);
  cards.add(operations);
  cards.add(attacks);
  cards.add(promotions);

  var n = 0;
  cards.each(function() {
    if (this['num'] == undefined) {
      this['num'] = 1;
    }
    for (i = 0; i < this['num']; i++) {
      n++;
      var card = $('<div class="card"></div>');

      if (n % 3 == 1) {
        card.addClass('break');
      }
      if (n % 9 == 1 && n != 1) {
        $('<hr class="pgbreak" />').appendTo('body');
      }

      if (this['name'] != undefined) {
        var name = $('<div class="name">' + this['name'] + '</div>');
        name.appendTo(card);
      }
      if (this['lv'] != undefined) {
        var lv = $('<div class="level">' + this['lv'] + '</div>');
        lv.appendTo(card);
      }
      if (this['hp'] != undefined) {
        var hp = $('<div class="hp">HP: ' + this['hp'] + '</div>');
        hp.appendTo(card);
      }

      if (this['img'] != undefined) {
        var image = $('<div class="illustration"><img src="' + this['img'] + '"></div>');
        image.appendTo(card);
      }

      var description = this['description'];
      if (this['skill'] != undefined) {
        var skill = $('<div class="skill">[' + this['skill'] + ']</div>');
        skill.appendTo(card);

        if (description == undefined) {
          description = skills[this['skill']];
        }
      }
      if (description != undefined) {
        description = $('<div class="description">' + (this['initiative'] ? this['initiative'] : '') + description + '</div>');
        description.appendTo(card);
      }

      card.appendTo('body');
    }
  });
});
  </script>
  <style type="text/css">
.card {
  width: 48mm; /* 63mm - padding * 2 - ? */
  height: 72mm; /* 89mm - padding * 2 - ? */
  border: solid 1px black;
  padding: 5mm;
  float: left;
  position: relative;
  font-size: 1em;
}
.card .head_line {
  margin-top: 3px;
  padding-left: 50px;
}
.card .level {
  float: left;
  font-weight: bold;
}
.card .hp {
  float: right;
  text-align: right;
  font-weight: bold;
  color: red;
}
.card .name {
  font-size: 1.5em;
  text-align: center;
}
.card .illustration {
  position: absolute;
  top: 18mm;
  text-align: center;
  width: 48mm;
  height: 48mm;
}
.card .skill {
  position: absolute;
  top: 50mm;
  left: 5mm;
  font-size: 1em;
  font-weight: bold;
  color: black;
  background-color: white;
  opacity: 0.9;
}
.card .description {
  position: absolute;
  top: 50mm;
  left: 0mm;
  height: 6em;
  width: 44mm;
  margin: 5mm;
  padding: 2mm;
  border: solid 1px black;
  font-size: 0.8em;
  color: black;
  background-color: white;
  opacity: 0.8;
}
.break {
  clear: both;
}
.pgbreak {
  clear: both;
  page-break-after: always;
  border: 0px;
  margin: 10mm;
}
  </style>
</head>
<body>
</body>
</html>
